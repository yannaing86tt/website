{% extends "panel/base.html" %}
{% load user_tags %}

{% block title %}Delete User{% endblock %}

{% block content %}
<div class="content-header">
  <h1 class="content-title">Delete User</h1>
  <p class="content-subtitle">Are you sure you want to delete this user?</p>
</div>

<div class="content-body" style="max-width: 600px;">
  <div style="background: rgba(239, 68, 68, 0.1); border: 1px solid rgba(239, 68, 68, 0.3); padding: 20px; border-radius: 12px; margin-bottom: 24px;">
    <h3 style="margin-bottom: 12px; font-size: 18px; color: var(--danger);">⚠️ Warning</h3>
    <p style="margin-bottom: 12px; font-size: 14px;">
      You are about to permanently delete the user: <strong>{{ user_to_delete.username }}</strong>
    </p>
    <p style="font-size: 14px; color: var(--text-muted);">
      This action cannot be undone. All content created by this user will remain but will no longer be associated with them.
    </p>
  </div>
  
  <div style="background: rgba(255, 255, 255, 0.03); padding: 20px; border-radius: 12px; margin-bottom: 24px; border: 1px solid var(--border);">
    <div style="margin-bottom: 12px;">
      <strong>Username:</strong> {{ user_to_delete.username }}
    </div>
    <div style="margin-bottom: 12px;">
      <strong>Email:</strong> {{ user_to_delete.email|default:"Not set" }}
    </div>
    <div style="margin-bottom: 12px;">
      <strong>Role:</strong> 
      {% if user_to_delete.is_superuser %}
        Superadmin
      {% elif user_to_delete|has_editor_role %}
        Editor
      {% else %}
        Staff
      {% endif %}
    </div>
    <div>
      <strong>Last Login:</strong> 
      {% if user_to_delete.last_login %}
        {{ user_to_delete.last_login|date:"M d, Y H:i" }}
      {% else %}
        Never
      {% endif %}
    </div>
  </div>
  
  <form method="post">
    {% csrf_token %}
    <div style="display: flex; gap: 12px;">
      <button type="submit" class="btn btn-danger">
        Yes, Delete User
      </button>
      <a href="/panel/users/" class="btn btn-secondary">
        Cancel
      </a>
    </div>
  </form>
</div>
{% endblock %}
